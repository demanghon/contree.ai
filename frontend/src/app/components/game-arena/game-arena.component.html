<div class="game-arena" *ngIf="gameState() as state">
    <div class="game-table">

        <!-- Top Left: Last Trick -->
        <div class="ui-button last-trick-btn">
            Last trick
        </div>

        <!-- Top Right: Scoreboard -->
        <div class="scoreboard">
            <div class="score-header">501</div>
            <div class="score-body">
                <span>Us</span>
                <span>Them</span>
            </div>
            <div class="score-values">
                <span>128</span>
                <span>34</span>
            </div>
        </div>

        <!-- Bottom Left: Home Button -->
        <div class="ui-button home-btn">
            üè†
        </div>

        <!-- Bottom Right: Action Buttons -->
        <div class="action-btn-group">
            <div class="action-btn">üí¨</div>
            <div class="action-btn">üòÉ</div>
        </div>

        <!-- Center Mat -->
        <div class="center-mat"></div>

        <!-- Played Cards (Current Trick) -->
        <div *ngFor="let play of state.currentTrick; let i = index" class="played-card" [style.zIndex]="i"
            [style.transform]="getTransform(i)">
            <app-card [card]="getCard(play.cardId)"></app-card>
        </div>

        <!-- Opponents -->
        <div *ngFor="let player of opponents" [class]="'player-position ' + player.position">
            <div class="avatar-container">
                <div class="avatar">
                    <!-- Placeholder for avatar image -->
                </div>
            </div>
            <div class="nametag">{{ player.name }}</div>
            <div class="opponent-hand">
                <app-card *ngFor="let _ of state.hands[player.id]"></app-card>
            </div>
        </div>

        <!-- My Hand (South) -->
        <div class="player-hand">
            <app-card *ngFor="let cardId of state.hands['south']" [card]="getCard(cardId)"
                (click)="handleCardClick(cardId)" [class.clickable]="state.currentPlayer === 'south'">
            </app-card>
        </div>

    </div>
</div>
<div *ngIf="!gameState()">Loading...</div>